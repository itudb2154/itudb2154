{% extends 'layout.html' %}

{% block head_ext %}
    <title>My Recipes</title>
{% endblock head_ext %}

{% block content %}

      <div class="album py-5 bg-light">
        <div class="container">

          {%if not recipes%}
              <h4 class="display-4 mt-5">No recipes are found.</h4>
          {%endif%}
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">

            {%if recipes%}
            {%for key, recipe in recipes%}
            <div class="col">
                <div class="card shadow-sm">
                  <img class="bd-placeholder-img card-img-top" src="{{ recipe.photo_url }}" width="100%" height="225">

                  <div class="card-body">
                    <p class="card-text"> {{recipe.meal_name}} </p>
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="btn-group">
                        <form action="/recipe/{{key}}" method="POST">
                          <button type="submit" name="button" value="view" class="btn btn-sm btn-outline-secondary">View</button>
                          {%if owner == user%}
                          <button type="submit" name="button" value="deleteRecipe" class="btn btn-sm btn-outline-danger">Delete</button>
                          {%endif%}
                        </form>
                      </div>
                      <small class="text-muted">{{recipe.recipe_name}}</small>
                    </div>
                  </div>
                </div>
            </div>
            {%endfor%}
            {%endif%}

        </div>
        {%if owner == user%}
        <div class="row row-cols-1 row-cols-sm-4 d-flex justify-content-center mt-5">
            <form method="POST" class="signin-form">
                <div class="form-group me-2 mt-2">
                <button type="submit" name="button" value="addRecipe" class="form-control btn btn-dark submit px-3">
                    Add recipe
                </button>
                </div>
            </form>
        </div>
        {%endif%}
        </div>
      </div>
{% endblock %}


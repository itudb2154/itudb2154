{% extends 'layout.html' %}

{% block head_ext %}
    <title>Add Ingredient</title>
{% endblock head_ext %}

{% block content %}

      <div class="container" style="width:25%">
        <form method="POST" class="signin-form mt-5">
            <div class="border border-dark p-2">
              <div class="ingredient border border-dark p-2 m-2">
                <select class="form-select" name="ingredient" aria-label="Default select example">
                  <option selected>Select an ingredient from the dropdown</option>
                  {%if allingredients%}
                  {%for key, ingredient in allingredients%}
                  <option value="{{ingredient.name}}">{{ingredient.name}}</option>
                  {%endfor%}
                  {%endif%}
                </select>
                <div class="form-group mb-3">
                  <label class="label" for="portion">Measure</label>
                    <input type="text" name="measure" class="form-control" placeholder="Measure" required="">
                </div>
              </div>
              
              <div class="form-group me-2 mt-2">
                <button type="button" id="addIngredient" class="form-control btn btn-dark submit px-3">
                  Add more ingredient
                </button>
              </div>
            </div>
            <div class="form-group">
                <button type="submit" name="button" value="add" class="form-control btn btn-dark submit px-3">Add Ingredient</button>
            </div>
            <div class="form-group d-md-flex">
                <!--<div class="w-50 text-left">
                    <label class="checkbox-wrap checkbox-primary mb-0">Remember Me
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                        </label>
                    </div>-->
            </div>
            </form>
      </div>
    <script>
      document.getElementById("addIngredient").onclick = function() {
        var container = document.querySelectorAll('.ingredient');
        var section = document.querySelector('.ingredient');
        var last = container[container.length-1];
        section.parentNode.insertBefore(section.cloneNode(true), last.nextSibling);
        
      }
    </script>
{% endblock %}
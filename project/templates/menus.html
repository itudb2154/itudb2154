{% extends 'layout.html' %}

{% block head_ext %}
    <title>My Menus</title>
{% endblock head_ext %}

{% block content %}

<div class="container" style="width:50%; margin-top:20px">
  {%if not userMenus%}
      <h1 class="display-4 mt-5">No user menus are found.</h1>
  {%endif%}
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">

    {%if userMenus%}
    {%for key, menu in userMenus%}
    <div class="col">
        <div class="card shadow-sm">
          <img class="bd-placeholder-img card-img-top" src="http://orlysrestaurant.com/wp-content/uploads/2015/10/xmas-lunch.jpg" width="100%" height="225">

          <div class="card-body">
            <p class="card-text"> {{menu.title}} </p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <form action="/menu/{{ key }}" method="POST">
                  <button type="submit" name="button" value="view" class="btn btn-sm btn-outline-secondary">View</button>
                  {%if owner == user%}
                  <button type="submit" name="button" value="deleteMenu" class="btn btn-sm btn-outline-danger">Delete</button>
                  {%endif%}
                </form>
              </div>
              <small class="text-muted">{{ menu.created_date }}</small>
            </div>
          </div>
        </div>
    </div>
    
    {%endfor%}
    {%endif%}
  </div>

  {%if user == owner%}
  <div class="row row-cols-1 row-cols-sm-4 d-flex justify-content-center mt-5">
    <form action="/menu/add" method="POST" class="signin-form">
        <div class="form-group me-2 mt-2">
          <button type="submit" name="addMenu" value="addPage" class="form-control btn btn-dark submit px-3">
            Add menu
        </button>
        </div>
    </form>
  </div>
  {%endif%}
</div>
{% endblock %}
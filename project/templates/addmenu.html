{% extends 'layout.html' %}

{% block head_ext %}
    <title>Add Menu</title>
{% endblock head_ext %}

{% block content %}

<div class="container" style="width:25%">
    <form action="/menus/add" method="POST" class="signin-form mt-5">
        

        <div class="form-group mb-3">
          <label class="label" for="title">Name</label>
          <input type="text" name="title" class="form-control" placeholder="Name" required="">
        </div>
        <div class="form-group mb-3">
            <label class="label" for="description">Description</label>
            <input type="text" name="description" class="form-control" placeholder="Description" required="">
        </div>
        
        <div>
          <div class="meal border border-dark p-2 m-2">
            <label class="label" for="meal">Meal</label>
            <select class="form-select" name="meal" aria-label="Default select example">
                <option selected>Select a meal from the dropdown</option>
                {%if meals%}
                {%for key, meal in meals%}
                <option value="{{meal.name}}">{{meal.name}}</option>
                {%endfor%}
                {%endif%}
            </select>
          </div>
          <div class="form-group me-2" style="margin-top:20px">
            <button type="button" id="addMeal" class="form-control btn btn-dark submit px-3">
              Add more meal
            </button>
          </div>
        </div>
        <div class="form-group mb-3 mt-2">
            <label class="label" for="notes">Notes</label>
            <input type="text" name="notes" class="form-control" placeholder="Notes" required="">
        </div>
        <div class="form-group" style="margin-top:20px">
            <button type="submit" name="addMenu" value="insertValue" class="form-control btn btn-dark submit px-3">Add Menu</button>
        </div>
        </form>
  </div>
<script>
  document.getElementById("addMeal").onclick = function() {
    var container = document.querySelectorAll('.meal');
    var section = document.querySelector('.meal');
    var last = container[container.length-1];
    section.parentNode.insertBefore(section.cloneNode(true), last.nextSibling);
    
  }
</script>

{% endblock %}